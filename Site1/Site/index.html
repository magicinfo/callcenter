<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title></title>
		
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="css/font-awesome-4.5.0/css/font-awesome.min.css">
		<link href="css/mystyle.css" rel="stylesheet">
		<script type="text/javascript" src="js/jquery-1.12.2.js"></script>
		
		<script type="text/javascript">
					
		
			window.onload = function () {
				var paragraphs = $("nobr");
				var speedlimit=2000;
				var scrolldelay=500;
				var width;
				var widthContainer;
				var speed;
				var flag = false;
			
				var scrollforward = function(w,wc,speed){
					$('#roller nobr').delay(scrolldelay).animate({
						left:-(w-wc)},speed,function(){
							if (flag)
								scrollbackward(w,wc,speed);
							else
								return false;
						});
				}

				var scrollbackward = function(w,wc,speed){
					$('#roller nobr').delay(scrolldelay).animate({
						left:0},speed,function(){
							if (flag)
								scrollforward(w,wc,speed);
							else
								return false;
						});
				}
				
				function sendGetQuery () {
					$.ajax({
						type: "GET",
						url: "http://front-desk.ca/mi/callcenter/rem/messenger",
						dataType: "json",

						success: function (obj) {
							var temp = obj.result;
							var str = paragraphs.text();
							
							if(temp !== str){
								paragraphs.text(temp);
								$('#roller').html(''+$('#roller').html()+'');
								$('#roller nobr').css({position:'absolute',left:0,top:0});
								width=$('#roller nobr').width();
								widthContainer=$('#roller').width();
								speed=speedlimit*(width/widthContainer);
					
								if(width>widthContainer){
									flag = true;
									scrollforward(width,widthContainer,speed);
								}
								else{
									flag = false;
									$('#roller nobr').css({position:'relative',left:0,top:0});
								}
								setTimeout(sendGetQuery, 2000);
							}
						}
					});
				}
				
				function sendGetQueryTable2 () {
					$.ajax({
						type: "GET",
						url: "http://front-desk.ca/mi/callcenter/dashboard2/realStatus.php?date=2016-03-15T7:58:34",
						dataType: "json",

						success: function (obj) {
							var temp = obj.result;
							
							$("#waiting").text(temp.waiting.value);
							$("#oldest").text(temp.oldest);
							$("#answered").text(temp.answered);
							
							setTimeout(sendGetQueryTable2, 6000);
						}
					});
				}
				
				function sendGetQueryTable3 () {
					$.ajax({
						type: "GET",
						url: "http://front-desk.ca/mi/callcenter/dashboard2/daylyMetric",
						dataType: "json",

						success: function (obj) {
							var temp = obj.result;
							
							$("#received").text(temp.received);
							$("#abandcalls").text(temp.abandcalls);
							$("#abandrate").text(temp.abandrate);
							<!-- $("#abandrate").css('color', temp.abandrate_color); -->
							$("#avgaband").text(temp.avgaband);
							$("#avgspeed").text(temp.avgspeed);
							$("#avghandl").text(temp.avghandl);
							
							setTimeout(sendGetQueryTable3, 60000);
						}
					});
				}
				
				
				sendGetQuery ();
				sendGetQueryTable2 ();
				sendGetQueryTable3 ();
				
			}
		</script>
		
		


	
	</head>

	<body>
		<div>
			<div class="col-xs-8" style="height:91vh; background:white; padding:0px;">
				<div class="div-one" style="width:45%; padding-left:20px;">
					<p class="paragraf-one">AGENT NAME</p>
				</div>
				<div class="div-one" style="width:30%;">
					<p class="paragraf-one">ELAPSED TIME</p> 
				</div>
				<div class="div-one" style="width:25%;">
					<p class="paragraf-one">AUX</p>
				</div>

				<table class="table table-striped table-condensed table-one">
					<tbody>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-coffee" style="color:#ffa655; padding:5px;"></i>
								<span>Dolinak, A</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#ffa655;">
								<span>00:01:25</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#ffa655;">
								<span>Project</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Ingino, I</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:02:01</span>
							</td>
							<td style="width:25%; padding-left:10px; color:30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Runyon, C</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:03:43</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>St John, L</span>
							</td>
							<td style="width:30%; padding-left:10px; color:red;">
								<span>00:10:37</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Frutchey, A</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:01:15</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-minus-circle" style="color:red; padding:5px;"></i>
								<span>Kunz, K</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:00:30</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Jones, J</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:03:15</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Rousey, R</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:02:09</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Pasquiao, M</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:01:28</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-coffee" style="color:#ffa655; padding:5px;"></i>
								<span>Mayweather, F</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#ffa655;">
								<span>00:01:25</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#ffa655;">
								<span>Meeting</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Angela, C</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:01:25</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Debra, S</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:00:45</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-coffee" style="color:#ffa655; padding:5px;"></i>
								<span>Irene, F</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#ffa655;">
								<span>00:01:25</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#ffa655;">
								<span>Meeting</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Angela, C</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:01:25</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-phone" style="color:#30942f; padding:5px;"></i>
								<span>Debra, S</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#30942f;">
								<span>00:00:45</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#30942f;">
								<span></span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:45%; padding-left:15px;">
								<i class="fa fa-coffee" style="color:#ffa655; padding:5px;"></i>
								<span>Irene, F</span>
							</td>
							<td style="width:30%; padding-left:10px; color:#ffa655;">
								<span>00:01:25</span>
							</td>
							<td style="width:25%; padding-left:10px; color:#ffa655;">
								<span>Meeting</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="col-xs-4" style="height:40vh; background:black; padding:0px;">
				<div class="div-one" style="width:100%; ; border-bottom:3px solid #000000!important;">
					<p class="paragraf-one">REALTIME STATS</p>
				</div>
				
				<table class="table table-two">
					<tbody>
						<tr class="myline">
							<td style="width:70%;">
								<span style="padding-left:5px; color:yellow;">Calls Waiting</span>
							</td>
							<td style="width:30%; text-align:right;">
								<span id="waiting" style="padding-right:5px; color:white;">&nbsp;</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:70%;">
								<span style="padding-left:5px; color:#ffa655;">Oldest Call Waiting</span>
							</td>
							<td style="width:30%; text-align:right;">
								<span id="oldest" style="padding-right:5px; color:white;">&nbsp;</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:70%;">
								<span style="padding-left:5px; color:#54b739;">Calls Answered</span>
							</td>
							<td style="width:30%; text-align:right;">
								<span id="answered" style="padding-right:5px; color:white;">&nbsp;</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="col-xs-4" style="height:51vh; background:#6abfff; padding:0px;">
				<div class="div-one" style="width:100%; border-bottom:0px solid #000000!important;">
					<p class="paragraf-one">DAILY METRICS</p> 
				</div>
				
				<table class="table table-bordered table-condensed table-three">
					<tbody>
						<tr class="myline">
							<td style="width:70%; ">
								<span style="padding-left:5px;">Calls Received</span>
							</td>
							<td style="width:30%; text-align:right; background:#c1e6ff;">
								<span id="received" style="padding-right:5px;">&nbsp;</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:70%;">
								<span style="padding-left:5px;">Aband Calls > 10sec</span>
							</td>
							<td style="width:30%; text-align:right; background:#c1e6ff;">
								<span id="abandcalls" style="padding-right:5px;">&nbsp;</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:70%;">
								<span style="padding-left:5px;">Abandon Rate</span>
							</td>
							<td style="width:30%; text-align:right; background:#c1e6ff;">
								<span id="abandrate" style="padding-right:5px;">&nbsp;</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:70%;">
								<span style="padding-left:5px;">Avg Abandon Time</span>
							</td>
							<td style="width:30%; text-align:right; background:#c1e6ff;">
								<span id="avgaband" style="padding-right:5px;">&nbsp;</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:70%;">
								<span style="padding-left:5px;">Avg Speed of Answer</span>
							</td>
							<td style="width:30%; text-align:right; background:#c1e6ff;">
								<span id="avgspeed" style="padding-right:5px;">&nbsp;</span>
							</td>
						</tr>
						<tr class="myline">
							<td style="width:70%;">
								<span style="padding-left:5px;">Avg Handle Time</span>
							</td>
							<td style="width:30%; text-align:right; background:#c1e6ff;">
								<span id="avghandl" style="padding-right:5px;">&nbsp;</span>
							</td>
						</tr>
					</tbody>
				</table>				
			</div>

			<div class="col-xs-12 div-two">
				<div id="roller" class="div-foor" style="text-align:center">
					<nobr class="paragraf-two">&nbsp;</nobr>
				</div>
			</div>
			
			
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
	</body>
</html>